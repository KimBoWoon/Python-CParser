
#include <iostream>
#include <cstdio>
#include <algorithm>
#include <fstream>
using namespace std;

int dp[1010][1010],card[1010],s[1010],n=0;

int main()
{
	FILE *fp;
	fp=fopen("input.txt","r");
	int t=0,i=0,j=0,k=0;
	fscanf(fp,"%d",&t);
	while(t--)
	{
		fscanf(fp,"%d",&n);
		for(i=1;i<=n;i++)
		{
			fscanf(fp,"%d",&card[i]);
			dp[1][i]=card[i],s[i]=s[i-1]+card[i];
		}
		for(i=2;i<=n;i++)
			for(j=1;j<=n-i+1;j++)
			{
				k=i+j-1;
				dp[i][k]=max(card[j]+s[k]-s[j]-dp[i-1][k],card[k]+s[k-1]-s[j-1]-dp[i-1][k-1]);
			}
		printf("%d\n",dp[n][n]);
	}
}

