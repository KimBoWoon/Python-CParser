

#include <iostream>
#include <fstream>
using namespace std;
int card[1003][1003];

int cardgame(int arr1[], int arr2[], int begin, int end){
    if (begin > end) return 0;
    if (begin == end) return arr1[begin];
    int &ret = card[begin][end];
    if (ret >= 0) return ret;
	ret = max((arr2[end] - arr2[begin-1] - cardgame(arr1,arr2, begin+1, end)), (arr2[end] - arr2[begin-1] - cardgame(arr1,arr2, begin, end-1)));
    return ret;
}
int main(){
	ifstream instream;
	instream.open("input.txt");

	int no_cases;
	instream>>no_cases;

	while(no_cases--){
		int n;
		instream>>n;
		int *arr=new int [n+1];
		int *arr1 = new int [n+1]; 
		for ( int i=1;i<=n;i++){
			instream>>arr[i];
			arr1[i] = arr1[i-1] + arr[i];
		}
        for (int i=1;i<=n;i++)
			for (int j=i;j<=n;j++)
				card[i][j] = -1;

        printf("%d\n", cardgame(arr,arr1,1, n));
	}	
	instream.close();
}
