#include <iostream>
#include <fstream>   
#include <string.h>  
using namespace std;

#define MIN(x, y) (x > y) ? (y) : (x)

int M[501][501] = { 0 };
int A[501] = { 0 };
int S[501] = { 0 };

int main() {
	int testCase;
	ifstream instream("input.txt");
	instream >> testCase;
	while (testCase--) {
		int size;
		instream >> size;
		memset(A, 0, sizeof(int) * 501); 
		memset(S, 0, sizeof(int) * 501);
		for (int i = 0; i < size; i++) {
			instream >> A[i];
			S[i + 1] = S[i] + A[i];
		}
		for (int x = 1; x < size; x++) {
			for (int y = 1; y <= size - x; y++) {
				int j = y + x;
				M[y][j] = 2147483647;
				for (int k = y; k < j; k++)
					M[y][j] = MIN(M[y][j], M[y][k] + M[k + 1][j] + S[j] - S[y - 1]);
			}
		}
		cout << M[1][size] << endl;
	}
	return 0;
}