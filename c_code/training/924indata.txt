
#include <iostream>
#include <fstream>

using namespace std;

int A[1003], S[1003];
int D[1003][1003];

void cardGame(int start, int end);
int main() {
    fstream infile;
    infile.open("input.txt");
    int testCase, i;
    infile>>testCase;

    for(i=0; i<testCase; i++)
    {
        int num, j;
        infile>>num;
        
        for(j=1; j<=num; j++){
            infile>>A[j];
            S[j]=S[j-1]+A[j];
        }
        for(j=1; j<=num; j++) {
            D[j][j]=A[j];
        }
        cardGame(1, num);

    }
    return 0;
}

void cardGame(int start, int end)
{
	int min=0, i, j;
	int n=end-start;
	for(i=1; i<=n; i++){
		for(j=1; j<end; j++){
			int k=j+i;
			if(D[j][k-1]<D[j+1][k])
				min=D[j][k-1];
			else
				min=D[j+1][k];
			
			D[j][k]=S[k]-S[j-1]-min;
		}
	}
   cout<<D[start][end]<<endl;
}