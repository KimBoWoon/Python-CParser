
#include <iostream>
#include <fstream>

int M[500][500];
int D[500][500];


int main() {
	std::ifstream fin;

	fin.open("input.txt");
	int numcase,n;
	if (fin.is_open() == false)  return -1;

	fin >> numcase;
	while (numcase--) {

		fin >> n;
		
		int i, j, k, min, sum;

		for (i = 0; i < n; i++)
			fin >> D[i][i];

		for (i = 0; i < n; i++)
			M[i][i] = 0;

		for (i = 0; i < n; i++)
			for (j = i + 1; j < n; j++)
				D[i][j] = D[i][j - 1] + D[j][j];

		for (int lenth = 1; lenth < n; lenth++)
			for ( i = 0; i < n - lenth; i++) {
				j = i + lenth;
		
				min = -1;

				for (k = i; k + 1 <= j; k++) {
					sum = M[i][k] + M[k + 1][j] + D[i][j];
					if (sum < min || min == -1) min = sum;
				}
				M[i][j] = min;
			}
		std::cout << M[0][n-1]<< std::endl;
	}
	fin.close();
}