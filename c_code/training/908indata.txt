#include <iostream>
#include <fstream>

int game(int* numbers, int* cumsum, int** table, int s, int e);
int max(int num1, int num2);

int main()
{
   std::ifstream inFile("input.txt");
   int testCases = 0;
   inFile >> testCases;
   for (int i = 0; i < testCases; i++){
      int count = 0;
      inFile >> count;
      int* numbers = new int[count + 1];
      int* cumsum = new int[count + 1];
      for (int j = 1; j <= count; j++) {       
         inFile >> numbers[j];            
         cumsum[j] = cumsum[j - 1] + numbers[j];      
      }
      int**table = new int*[count + 1];
      for (int j = 0; j <= count; j++){
         table[j] = new int[count + 1];
      }
      for (int i = 1; i <= count; i++) {         
         for (int j = i; j <= count; j++){
            table[i][j] = -1;
         }
      }
      std::cout << game(numbers, cumsum, table, 1, count) << std::endl;

      delete numbers;
      delete cumsum;
      for (int j = 0; j <= count; j++){
         delete table[j];
      }
   }
}

int game(int* numbers, int* cumsum, int** table, int s, int e)
{
   if (s > e){
      return 0;
   }
   if (s == e){
      return numbers[s];
   }
   int &ret = table[s][e];
   if (ret >= 0) {
      return ret;
   }
   ret = max(cumsum[e] - cumsum[s - 1] - game(numbers, cumsum, table, s + 1, e),
      cumsum[e] - cumsum[s - 1] - game(numbers, cumsum, table, s, e - 1));
   return ret;
}

int max(int num1, int num2){
   return num1 > num2 ? num1 : num2;
}