#include <stdio.h>
#include <stdlib.h>
#pragma warning(disable:4996);
int card[1001];
int t[1001][1001];
int sum[1001];

int play(int left, int right);
int Max(int a, int b);

void main() {
	int numCases, size;
	int i, j, k;
	FILE *f;
	f = fopen("input.txt", "r");
	fscanf(f, "%d", &numCases);

	for (i = 0; i < numCases; i++) {
		fscanf(f, "%d", &size);
		for (j = 1; j <= size; j++) {
			fscanf(f, "%d", &card[j]);
			sum[j] = sum[j - 1] + card[j];
		}
		for (j = 1; j <= size; j++) 
			for (k = 1; k <= size; k++) 
				t[j][k] = 0;
			
		
		printf("%d\n", play(1, size));
	}
}

int play(int left, int right) {
	int i;
	
	if (left > right)
		return 0;
	else if (left == right)
		return card[left];
	if (t[left][right] > 0)
		return t[left][right];

	t[left][right] = Max(sum[right] - sum[left - 1] - play(left + 1, right), sum[right] - sum[left - 1] - play(left, right - 1));
	return t[left][right];
}
int Max(int a, int b) {
	int result = (a > b) ? a : b;
	return result;
}