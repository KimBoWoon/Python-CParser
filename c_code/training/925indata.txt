
#include <iostream>
#include <fstream>
using namespace std;
int S[1003];
int A[1003];
int D[1003][1003];
int min(int a, int b)
{
    if(a<b)
    {
        return a;
    }
    else{
        return b;
    }
}
int cardGame(int start, int end)
{
    
    for(int i=1; i<=end-start; i++)
    {
        for(int j=1; j<end; j++)
        {
            int k=j+i;
            D[j][k]=S[k]-S[j-1]-min(D[j][k-1],D[j+1][k]);
        }
    }
    return D[start][end];

}

int main() {
    fstream in;
    in.open("input.txt");
    int numcases;
    in>>numcases;
    

    for(int i=0; i<numcases; i++)
    {
        int num;
        in>>num;
        
        for(int j=1; j<=num; j++)
        {
            in>>A[j];
            S[j]=S[j-1]+A[j];
        }
        for(int j=1; j<=num; j++)
        {
            D[j][j]=A[j];
        }
        cout<<cardGame(1, num)<<endl;
       
        
    }
    return 0;
}
