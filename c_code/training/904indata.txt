#include <stdio.h>
#include <stdlib.h>
#pragma warning(disable:4996)

int cardSum[1001];
int cardGame[1000][1000];
int selectCard(int* a, int left, int right)
{
	int max=cardGame[left][right];
	int temp1, temp2;
	if(left>right)
		return 0;
	else if(left==right)
		return a[left];
	if(max>=0)
		return max;
	temp1=cardSum[right+1]-cardSum[left]-selectCard(a, left+1, right);
	temp2=cardSum[right+1]-cardSum[left]-selectCard(a, left, right-1);
	if(temp1>=temp2)
		max=temp1;
	else
		max=temp2;
	cardGame[left][right]=max;
}
int main()
{
	FILE* inFile;
	int a[1000];
	int i, sum=0, j;
	int left, right;
	int card[1000] = { 0 };
	int cardNum;
	int testCases = 0;
	inFile=fopen("input.txt", "r");
	if(inFile==NULL)
		exit(1);
	fscanf(inFile, "%d", &testCases);
	while (testCases--)
	{
		fscanf(inFile, "%d", &cardNum);
		for (i = 0; i < cardNum; i++)
		{
			fscanf(inFile, "%d", &card[i]);
			cardSum[0]=card[0];
			if(i>=1)
				cardSum[i]=card[i-1]+cardSum[i-1];
		}
		cardSum[cardNum]=card[cardNum-1]+cardSum[cardNum-1];
		for(i=0; i<cardNum; i++)
		{
			for(j=0; j<cardNum; j++)
			{
				cardGame[i][j]=-1;
			}
		}
		printf("%d\n", selectCard(card, 0, cardNum-1));
		
	}
	return 0;
} 
