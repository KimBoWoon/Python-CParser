
#include<iostream>
#include<fstream>

using namespace std;

int main(){
	ifstream in;
	in.open("input.txt");
	if (!in) return 0;

	int test_case;
	in >> test_case;
	while (test_case--){
		int n;
		in >> n;
		int **arr = new int*[n];
		int **sum = new int*[n];
		for (int i = 0; i < n; i++){
			*(arr + i) = new int[n];
			*(sum + i) = new int[n];
			arr[i][i] = 0;
			in >> sum[i][i];
		}
		for (int i = 1; i < n; i++){
			for (int j = 0; j < n - i; j++){
				int min = arr[j][j] + arr[j + 1][j + i];
				sum[j][j + i] = sum[j][j] + sum[j + 1][j + i];
				for (int k = 0; k < i; k++){
					int temp = arr[j][j + k] + arr[j + k + 1][j + i];
					if (temp < min){
						min = temp;
					}
				}
				arr[j][j + i] = min + sum[j][j + i];
			}
		}

		cout << arr[0][n - 1] << endl;
		for (int i = 0; i < n; i++){
			delete[] * (arr + i);
			delete[] * (sum + i);
		}
		delete[]arr;
		delete[]sum;
	}

	in.close();
	return 0;
}