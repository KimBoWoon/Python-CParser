
#include <stdio.h>
#include <stdlib.h>

#define MIN(a,b) ( (a)<(b) ? (a) : (b) )
#define BORDER 1003
int cards[BORDER],sum[BORDER],DP[BORDER][BORDER];

int cardGame(int begin, int end){
	int i,j,k;
	for(i=1; i<=(end-begin); i++){
		for(j=1; j<end; j++){
			k=j+i;
			DP[j][k] = sum[k]-sum[j-1] - MIN(DP[j][k-1],DP[j+1][k]);
		}
	}
	return DP[begin][end]; 
}

int main(){
	FILE *in = fopen("input.txt","r");

	int i,T;
	fscanf(in, "%d", &T);
	while(T--){
		int N;
		fscanf(in, "%d", &N);
		for(i=1; i<=N; i++){ 
			fscanf(in, "%d", &cards[i]);
			sum[i] = sum[i-1] + cards[i]; 
		}
		for(i=1; i<=N; i++)
			DP[i][i] = cards[i]; 

		printf( "%d\n", cardGame(1, N) ); 
	}
	fclose(in);
	return 0;
}