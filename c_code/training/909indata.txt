

#include <stdio.h>
#include <stdlib.h>
int num;
int card[1003], sum[1003];
int cache[1003][1003];

int maxi(int a, int b){
	if (a > b) return a;
	else return b;
}

int recursive(int s, int e)
{
	int temp;
	if (s > e) return 0;
	if (s == e) return card[s];
	if (cache[s][e] >= 0) return cache[s][e];
	temp=sum[e] - sum[s - 1];
	cache[s][e] = maxi(
		temp - recursive(s, e - 1)
		,
		temp - recursive(s + 1, e)
		);
	return cache[s][e];
}

int main()
{
	int circle, i, j;
	FILE *inFile;

	inFile = fopen("input.txt", "r");
	fscanf(inFile, "%d", &circle);

	while (circle--){
		fscanf(inFile, "%d", &num);
		for (i = 1; i <= num; i++) { 
			fscanf(inFile, "%d", card + i);
			sum[i] = sum[i - 1] + card[i];
		}
		for (i = 1; i <= num; i++) { 
			for (j = i; j <= num; j++) {
				cache[i][j] = -1;
			}
		}
		j = recursive(1, num);
		printf("%d\n", j);
	}
	return 0;
}