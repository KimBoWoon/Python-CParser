#include<iostream>
#include<fstream>
using namespace std;
typedef unsigned long long ll;
ll gcd(ll a,ll b){if(b==0)return a; return gcd(b,a%b);}
ll lcm(ll a,ll b){return a*b/gcd(a,b);}
 
int main()
{
	ifstream fs;
	fs.open("input.txt");
    int n;
    fs>>n;
    while(n--)
    {
        ll a,b,c,d,i;
        fs>>a>>b;
        while(a!=1)
        {
            i=(b-1)/a+1;
            c=lcm(b,i);
            d=c/i,a*=c/b,b=c,a-=d;
            c=gcd(a,b);
            if(c!=1)a/=c,b/=c;
        }
        cout<<b<<"\n";
    }
}