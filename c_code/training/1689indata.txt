



#include <stdio.h>
#include <iostream>
#include <stdlib.h>
#include <algorithm>
#define MAX  100000
using namespace std;
 
struct  Pair {
    int x;
    int y;
};
 
bool compare(const Pair &a, const Pair &b)  
{
    return a.x != b.x ? a.x < b.x : a.y < b.y;
}
 
bool compare2(const Pair &a, const Pair &b)  
{
    return a.y > b.y;
}
 
int main()
{
	FILE *inFile;
	inFile = fopen("input.txt","r"); 
	if(inFile ==NULL) exit(1);

    int t;
    fscanf(inFile,"%d", &t);
    while (t--)
    {
        struct Pair arr[MAX];
        int n, K;
        fscanf(inFile,"%d", &n);
 
        for (int i = 0; i < n; i++) fscanf(inFile,"%d %d", &arr[i].x, &arr[i].y);
        sort(arr, arr + n, compare);
        for (int i = 0; i < n;)
        {
            int tmp = i, m = 0;
            for (int j = i + 1; j < n; j++)
            {
                if (arr[j].x == arr[i].x) tmp = j;
                else break;
            }
            m = tmp - i;
 
            if (m != 0 && (arr[i - 1].y > arr[i].y))
            {
                sort(arr+i, arr+tmp+1, compare2);
                i = tmp + 1;
            }
            else i++;
        }

        fscanf(inFile,"%d", &K);
        for (int i = 0; i < K; i++)
        {
            int num;
            fscanf(inFile,"%d", &num);
            printf("%d %d\n", arr[num - 1].x, arr[num - 1].y);
        }

    }
}
