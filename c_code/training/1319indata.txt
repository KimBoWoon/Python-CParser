


#include <iostream>
#include <fstream>
#include <cstdlib>

using namespace std;

int GCD(int value1, int value2);

int main()
{
	ifstream inStream;
	int numTestCases;		
	int mo, ja;
	inStream.open("input.txt");

	if (inStream.fail())
	{
		cerr << "Input file opening failed.\n";
		exit(1);
	}

	inStream >> numTestCases;	

	for (int i = 0; i < numTestCases; i++)
	{
		inStream >> ja >> mo;
		int smo = mo;
		int cnt = 2;
		while (smo <= 2000000000)
		{
			int tempja = 1, tempmo = 0;
			int temp = mo;
			int gcd = 0;
			
			if (ja <= 1)		
			{
				break;
			}

			while (ja * cnt <= mo)	
			{
				cnt++;
			}
			tempmo = cnt;

			ja = tempmo * ja;			
			mo = tempmo * mo;
			tempja = temp * tempja;
			tempmo = temp * tempmo;
			smo = mo * smo;
			ja = ja - tempja;
			gcd = GCD(ja, mo);
			ja = ja / gcd;
			mo = mo / gcd;

			if (mo / ja <= cnt)
			{
				cnt++;
			}
			else
			{
				cnt = mo / ja;
			}
		}
		cout << mo << endl;
	}
	inStream.close();
	return 0;
}

int GCD(int value1, int value2)
{
	if (value2 == 0)
	{
		return value1;
	}
	else
	{
		return GCD(value2, value1 % value2);
	}
}