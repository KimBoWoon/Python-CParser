
#include<iostream>
#include<fstream>

#define MIN(a,b) (a>b)? b : a

using namespace std;


void game(int *card,int arr[][1001], int nOfCard) 
{
	int cardTable[1001][1001]={0};
	for(int i=1;i<=nOfCard;i++)
	{
		cardTable[i][i] = card[i];
		arr[i][i] = card[i];
	}

	int j;
	for(int dia=1;dia<=nOfCard-1;dia++)
	{
		for(int i=1;i<=nOfCard-dia;i++)
		{
			j = i+dia;
			
			arr[i][j] = arr[i][i] + arr[i+1][j];
		}
	}


	
	j=0;
	for(int dia=1;dia<=nOfCard-1;dia++)
	{
		for(int i=1;i<=nOfCard-dia;i++)
		{
			j = i+dia;

			cardTable[i][j] = arr[i][j] - (MIN(cardTable[i][j-1], cardTable[i+1][j]));
		}
	}

	cout<<cardTable[1][nOfCard]<<endl;
}

int main()
{
	ifstream instream("input.txt",ios::in);
	int test;
	instream>>test;

	for(int i=0;i<test;i++)
	{
		int nOfCard;
		instream>>nOfCard;
		
		int card[1001];

		for(int j=1;j<=nOfCard;j++)
			instream>>card[j];
		
		int arr[1001][1001];
		game(card,arr,nOfCard);
	}

	return 0;
}