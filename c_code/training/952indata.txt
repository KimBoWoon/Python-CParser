#include <cstdio>
#include <cstring>

#define MIN(a, b) (((a) < (b)) ? (a) : (b))

int dp[1002][1002];
int sum[1002];

int main() {
	freopen("input.txt", "r", stdin);
	int nCase;
	scanf("%d", &nCase);

	while (nCase--) {
		memset(dp, 0, sizeof(dp));
		memset(sum, 0, sizeof(sum));

		int n;
		scanf("%d", &n);

		for (int i = 1, card = 0; i <= n; i++) {
			scanf("%d", &card);
			dp[i][i] = card;
			sum[i] = sum[i - 1] + card;
		}

		for (int i = 1; i < n; ++i) {
			for (int j = 1; j + i <= n; ++j) {
				dp[j][j + i] = sum[j + i] - sum[j - 1] - MIN(dp[j + 1][j + i], dp[j][j + i - 1]);
			}
		}

		printf("%d\n", dp[1][n]);
	}

	return 0;
}