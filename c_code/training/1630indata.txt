#include <stdio.h>
#include <stdlib.h>
#define MAX 987654321

int file[501], fSum[501];
int dp2D[501][501];

int main()
{
	FILE *fp = fopen("input.txt", "r");
	int T = 0, k = 0, x, y, z, tmp;
	
	for (fscanf(fp, "%d", &T); T--;)
	{
		fscanf(fp, "%d", &k);


		for (x = 1; x < k + 1; x++)
		{
			fscanf(fp, "%d", file + x);
			fSum[x] = fSum[x - 1] + file[x];
		}
		for (x = 1; x < k + 1; x++)
		{
			for (y = 1; y < k + 1; y++)
			{
				if (x == y)
				{
					dp2D[x][y] = 0;
				}
				else 
				{
					dp2D[x][y] = MAX;
				}
			}
		}

		for (x = k; x > 0; x--)
		{
			for (y = x; y < k + 1; y++)
			{
				for (z = 0; z < y - x; z++)
				{	
					tmp = dp2D[x][x + z] + dp2D[x + z + 1][y] + fSum[y] - fSum[x - 1];
					if (dp2D[x][y] > tmp)
					{
						dp2D[x][y] = tmp;
					}
				}
			}
		}
		
		printf("%d\n", dp2D[1][k]);

	}
	fclose(fp);
	return 0;
}