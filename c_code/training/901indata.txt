

#include<iostream>
#include<fstream>
#include<cmath>
#include<cstdlib>
using namespace std;

int game(int* a, int* b, int** dp, int start, int end){
	if (start > end)
		return 0;
	if (start == end)
		return a[start];
	if (dp[start][end] > 0)
		return dp[start][end];
	else{
		int temp1 = b[end] - b[start - 1] - game(a, b, dp, start + 1, end);
		int temp2 = b[end] - b[start - 1] - game(a, b, dp, start, end - 1);
		if (temp1 > temp2){
			dp[start][end] = temp1;
			return temp1;
		}
		else{
			dp[start][end] = temp2;
			return temp2;
		}
	}
}

int main(){
	ifstream File;
	int numCase = 0;
	int size = 0;
	int* a, *b;
	int** dp;

	File.open("input.txt");
	File >> numCase;
	for (int iter = 0; iter < numCase; iter++){
		File >> size;
		a = new int[size]();
		b = new int[size]();
		dp = new int*[size+1];
		for (int i = 0; i <= size; i++){
			dp[i] = new int[size+1]();
		}
		for (int i = 1; i <= size; i++){
			File >> a[i];
			b[i] = b[i - 1] + a[i];
		}
		int res = game(a, b, dp, 1, size);

		cout << res << endl;

		for (int i = 0; i <= size; i++){
			delete[] dp[i];
		}
		delete dp;
	}
	File.close();
	return 0;
}