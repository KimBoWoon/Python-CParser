

#include <stdio.h>

#define INF 99999999999

int dp[501][501][2];
int v[501];
int main()
{
	FILE *fp;
	int i=0,j=0,t=0;
	fp=fopen("input.txt","r");
	fscanf(fp,"%d",&t);
	for(i=0; i<t; i++)
	{
		int k=0,value=0,m=0,n=0;
		fscanf(fp,"%d",&k);
		for(j=1; j<=k; j++)
		{
			fscanf(fp,"%d",&value);
			v[j]=value;
			dp[j][j][0]=value;
		}
		for(j=1; j<=k-1; j++)
		{
			dp[j][j+1][0]=dp[j][j+1][1]=v[j]+v[j+1];
		}
		for(j=1; j<=k; j++)
		{
			for(m=j-2; m>=1; m--) 
			{
				int min_tmp=INF;
				for(n=m; n<=j-1; n++) 
				{	  
					int dp_tmp1=dp[m][n][0]+dp[n+1][j][0];
					int dp_tmp2=dp[m][n][1]+dp[n+1][j][1];
					 if(dp_tmp1+dp_tmp2<min_tmp) 
					 {
						 min_tmp=dp_tmp1+dp_tmp2;
						 dp[m][j][0]=dp_tmp1;
						 dp[m][j][1]=dp[m][j][0]+dp_tmp2;
					 }
				}
			}
		}
		printf("%d\n",dp[1][k][1]);
	}
}