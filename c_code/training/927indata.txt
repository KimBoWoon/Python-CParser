
#include <iostream>
#include <fstream>
using namespace std;
#define MIN(A,B) (A) >= (B) ? (B):(A)
#define MAX(A,B) (A) >= (B) ? (A):(B)
int gameNum[10000][10000];
int sumArr[100000];
void makeTable(int range);

int main(void){
	ifstream in; in.open("input.txt");
	int testcases,test;
	in >> testcases;
	for (int i = 0; i < testcases; i++){
		in >> test;
		for (int j = 1; j <= test; j++){
			in >> gameNum[j][j];
			sumArr[j] += sumArr[j - 1] + gameNum[j][j];
		}
		makeTable(test);
		cout << gameNum[1][test] << endl;
		for (int j = 1; j <= test; j++){
			for (int k = 1; k < test; k++)
				gameNum[j][k]=0;
		}
		for (int j = 1; j <= test; j++){
			sumArr[j] = 0;
		}
	}
}

void makeTable(int range){
	for (int i = 2; i <= range; i++){
		int a = 1;
		int b = i;
		int value;
		int sum;
		while (b <= range){
			value = MIN(gameNum[a][b - 1], gameNum[a + 1][b]);
			sum = sumArr[b] - sumArr[a - 1];
			gameNum[a][b] = sum - value;
			a++; b++;
		}
	}
}