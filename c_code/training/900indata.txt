

#include <stdio.h>
#include <stdlib.h>

#define MAX(a,b) ((a)>(b)?(a):(b))

int result[1001][1001];
int sets[1001], sums[1001];

int calSum(int s, int e) {
	if (s > e)
		return 0;

	if (s == e)
		return sets[s];

	if (result[s][e] >= 0)
		return result[s][e];

	result[s][e] = MAX(sums[e] - sums[s - 1] - calSum(s + 1, e),
			sums[e] - sums[s - 1] - calSum(s, e - 1));
	return result[s][e];
}

int main(void) {
	FILE *input;
	int no_cases, no_nums;
	int i, j, k;

	input = fopen("input.txt", "r");
	if (input == NULL)
		exit(1);
	fscanf(input, "%d", &no_cases);

	for (i = 0; i < no_cases; i++) {
		fscanf(input, "%d", &no_nums);

		for (j = 1; j <= no_nums; j++) {
			fscanf(input, "%d", &sets[j]);
		}

		for (j = 1; j <= no_nums; j++) {
			sums[j] = sums[j - 1] + sets[j];
		}

		for (j = 1; j <= no_nums; j++) {
			for (k = j; k <= no_nums; k++) {
				result[j][k] = -1;
			}
		}

		printf("%d\n", calSum(1, no_nums));

	}

	fclose(input);
	return 0;
}