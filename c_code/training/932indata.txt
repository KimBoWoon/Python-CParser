


#include <stdio.h>

#define MAXSIZE 1000+1
#define MIN(A,B) A>B?B:A

int cardGame(int num,int *card){
	int i,j,k,min;
	int score[MAXSIZE][MAXSIZE]={0};
	int sum[MAXSIZE][MAXSIZE]={0};

	if(num==1)
		return card[1];

	for(i=1;i<=num;i++){
		for(j=i;j>0;j--){
			if(i==j)
				score[i][j]=sum[i][j]=card[i];
			else
				sum[j][i]=sum[j][i-1]+sum[i][i];  
		}
	}

	for(i=2;i<=num;i++){
		for(j=i-1;j>0;j--){
			score[j][i]=sum[j][i]-(MIN(score[j][i-1],score[j+1][i]));
		}
	}
	return score[1][num]; 
}

int main(){
	int cases,num,i;
	int card[MAXSIZE];
	FILE *fp=fopen("input.txt","r");
	fscanf(fp,"%d",&cases);

	while(cases--){
		fscanf(fp,"%d",&num);
		for(i=1;i<=num;i++)
			fscanf(fp,"%d",&card[i]);
		printf("%d\n",cardGame(num,card));
	}
	fclose(fp);
	return 0;
}