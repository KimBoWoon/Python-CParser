
#include <stdio.h>
#define MAX 1e18
#pragma warning(disable:4996)
long long f[501],D[501][501];
int n,A[501][501];
int main()
{
	FILE* file = fopen("input.txt","r");
	int t;
    fscanf(file,"%d",&t);
    while (t--)
	{
		fscanf (file,"%d",&n);
		for (int i=1;i<=n;i++)
		{
			fscanf (file,"%lld",&f[i]);
			f[i] += f[i-1];
		}
		for (int l=2;l<=n;l++)
			for (int i=1,j=l;j<=n;i++,j++)
			{
				long long ret = MAX;
				int index,s,e;

				if (l <= 10)
					s=i,e=j;
				else
				    s=A[i][j-1],e=A[i+1][j]+1;
 
			for (int r=s;r<e;r++)
			{
				long long A = D[i][r] + D[r+1][j];
				if (ret > A) ret = A, index = r;
			}
			D[i][j] = f[j] - f[i-1] + ret; A[i][j] = index;
		}
		printf ("%lld\n",D[1][n]);
    }
}