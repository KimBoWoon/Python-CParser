#include <iostream>
#include <cstdlib>
#include <fstream>

using namespace std;
 
int T, N;
int A[1003], S[1003];
int D[1003][1003];
 
int dy(int s, int e);

int main()
{
	fstream infile;

	infile.open("input.txt");

	if(infile.fail())
	{
		cerr << "파일열기 오류" << endl;
		exit(1);
	}

    for (infile >> T;T--;){
       infile >> N;
        for (int i=1;i<=N;i++) infile >> A[i], S[i] = S[i-1] + A[i];
        for (int i=1;i<=N;i++) for (int j=i;j<=N;j++) D[i][j] = -1;
        cout << dy(1, N) << endl;
    }

	return 0;
}

int dy(int s, int e)
{
    if (s > e) return 0;
    if (s == e) return A[s];
    int &ret = D[s][e];
    if (ret >= 0) return ret;
    ret = max(S[e] - S[s-1] - dy(s+1, e), S[e] - S[s-1] - dy(s, e-1));
    return ret;
}
 