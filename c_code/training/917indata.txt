#define _CRT_SECURE_NO_WARNINGS
#include <cstdio>
#include <cstdlib>

int c[1001];
int matrix[1001][1001];

int min(int a, int b){
	return a > b ? b : a;
}

int main(){
	FILE* file;
	int cases;

	file = fopen("input.txt","r");
	fscanf(file, "%d", &cases);

	while (cases--){
		int n, s;
		fscanf(file, "%d", &n);

		for (int i = 1; i <= n; i++){
			fscanf(file, "%d", &s);
			c[i] = c[i - 1] + s;
			matrix[i][i] = s;
		}

		for (int k = 1; k < n; k++){
			for (int i = 1, j=k+1; i <= n && j<=n; i++,j++){
				matrix[i][j] = (c[j] - c[i - 1]) - min(matrix[i][j - 1], matrix[i + 1][j]);
			}
		}
		printf("%d\n", c[n] - min(matrix[1][n - 1], matrix[2][n]));
	}
	return 0;
}

